<head>
  <title>
  The artist's profile page
</title>
</head>

<div class="image-theme">
</div>
<div class='container-profile'>
  <% if @artist.photo.key? %>
    <div class="profil-picture">
      <img class="profil" <%= cl_image_tag @artist.photo.key, height: 300, width: 300, crop: :fill %>
      <%= image_tag "connection-status/circle-48.png", class:"connected" %>
    </div>
  <% end %>

  <div class='profile-page-top'>
    <div>
      <h1><%= @artist.name %></h1>
      <p class='location'><%= @artist.location %></p>
    </div>
    <%= button_to "Connect", user_connections_path(@artist), class:"btn btn-flat"%>
  </div>
  <p class='bio'><%= @artist.bio %></p>

  <% if @artist.genres.exists? %>
    <div class="profile-genres-show">
      <h4 class="section-header">Genres</h4>
      <div class="pill-container">
        <% @artist.genres.each do |genre| %>
          <div class="genre-pill-show" style="background-color: <%= genre.colour.gsub('"', '') %>;">
            <%= genre.name %>
          </div>
        <% end %>
      </div>
    </div>
  <% end %>

  <div class="mowgli">
    <h4 class="section-header">Instruments</h4>
    <div class="instruments">
      <div class="instrument">
        <% @artist.instruments.each do |instrument| %>
          <div class="instrument-name">
              <% if instrument.name == 'Piano' %>
                <p class="instrument-icon">ğŸ¹</p>
              <% elsif instrument.name == 'Guitar' %>
                <p class="instrument-icon">ğŸ¸</p>
              <% elsif instrument.name == 'Violin' %>
                <p class="instrument-icon">ğŸ»</p>
              <% elsif instrument.name == 'Drums' %>
                <p class="instrument-icon">ğŸ¥</p>
              <% elsif instrument.name == 'Saxophone' %>
                <p class="instrument-icon">ğŸ·</p>
              <% elsif instrument.name == 'Flute' %>
                <p class="instrument-icon">ğŸªˆ</p>
              <% elsif instrument.name == 'Trumpet' %>
                <p class="instrument-icon">ğŸº</p>
              <% elsif instrument.name == 'Banjo' %>
                <p class="instrument-icon">ğŸª•</p>
              <% elsif instrument.name == 'Accordion' %>
                <p class="instrument-icon">ğŸª—</p>
              <% elsif instrument.name == 'Maracas' %>
                <p class="instrument-icon">ğŸª‡</p>
              <% end %>
          </div>
        <% end %>
      </div>
      <div class="proficiency">
        <% @artist.instruments.each do |instrument| %>
          <div class="instrument-proficiency">
            <% if @my_instruments.where(instrument_id: instrument.id).first.proficiency == 'Beginner' %>
              <p class="instrument-icon">â­</p>
            <% elsif @my_instruments.where(instrument_id: instrument.id).first.proficiency == 'Intermediate' %>
              <p class="instrument-icon">â­â­</p>
            <% elsif @my_instruments.where(instrument_id: instrument.id).first.proficiency == 'Professional' %>
              <p class="instrument-icon">â­â­â­</p>
            <% elsif @my_instruments.where(instrument_id: instrument.id).first.proficiency == 'Expert' %>
              <p class="instrument-icon">â­â­â­â­</p>
            <% elsif @my_instruments.where(instrument_id: instrument.id).first.proficiency == 'God' %>
              <p class="instrument-icon">â­â­â­â­â­</p>
            <% end %>
          </div>
        <% end %>
      </div>
    </div>
  </div>
</div>

<%#= link_to "My connections", connections_path %>

<%# To pick up for AJAX buttons %>
<%# <div data-controller="submit-connection-request" data-submit-connection-request-requester-id-value=<%= current_user.id %>
  <%# data-submit-connection-request-receiver-id-value=<%= @artist.id %>
  <%# <button data-submit-connection-request-target="connect-button" data-action="click->submit-connection-request#send"> %>
    <%# Connect %>
  <%# </button> %>
<%# </div> %>

<% @artist.media.each do |medium| %>
  <% if medium.content_type.include?('image') %>
    <%= cl_image_tag(medium.key) %>
  <% else %>
    <%= video_tag url_for(medium), controls: true %>
  <% end %>
<% end %>
